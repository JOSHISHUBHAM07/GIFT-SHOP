import{c as I,r as i,j as e,d as se,e as ae,f as ne,g as R,P as j,h as v,i as S,k as ie,D as le,l as ce,m as N,X as de,n as ue,H as fe,a as pe,u as me}from"./index-L5qlGLpf.js";import{L as ge}from"./Layout-DBUk0RNB.js";import{S as he,L as xe,P as ye}from"./ProductCard-DbtwEUYX.js";import{m as y,B as O,A as ve,s as je}from"./supabaseClient-DQzvhkAx.js";import{u as D,h as Ne,R as be,a as we,F as Ce,S as De,b as Re,c as Se,d as Ee,e as b}from"./select-P3hUg8fy.js";import"./CartDrawer-BNY1Fyqk.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pe=I("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _e=I("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);function Ae(t){const o=Oe(t),s=i.forwardRef((a,r)=>{const{children:n,...l}=a,c=i.Children.toArray(n),d=c.find(ke);if(d){const f=d.props.children,g=c.map(h=>h===d?i.Children.count(f)>1?i.Children.only(null):i.isValidElement(f)?f.props.children:null:h);return e.jsx(o,{...l,ref:r,children:i.isValidElement(f)?i.cloneElement(f,void 0,g):null})}return e.jsx(o,{...l,ref:r,children:n})});return s.displayName=`${t}.Slot`,s}function Oe(t){const o=i.forwardRef((s,a)=>{const{children:r,...n}=s;if(i.isValidElement(r)){const l=Te(r),c=Me(n,r.props);return r.type!==i.Fragment&&(c.ref=a?se(a,l):l),i.cloneElement(r,c)}return i.Children.count(r)>1?i.Children.only(null):null});return o.displayName=`${t}.SlotClone`,o}var Ie=Symbol("radix.slottable");function ke(t){return i.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===Ie}function Me(t,o){const s={...o};for(const a in o){const r=t[a],n=o[a];/^on[A-Z]/.test(a)?r&&n?s[a]=(...c)=>{const d=n(...c);return r(...c),d}:r&&(s[a]=r):a==="style"?s[a]={...r,...n}:a==="className"&&(s[a]=[r,n].filter(Boolean).join(" "))}return{...t,...s}}function Te(t){var a,r;let o=(a=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:a.get,s=o&&"isReactWarning"in o&&o.isReactWarning;return s?t.ref:(o=(r=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:r.get,s=o&&"isReactWarning"in o&&o.isReactWarning,s?t.props.ref:t.props.ref||t.ref)}var C="Dialog",[k]=ne(C),[Fe,m]=k(C),M=t=>{const{__scopeDialog:o,children:s,open:a,defaultOpen:r,onOpenChange:n,modal:l=!0}=t,c=i.useRef(null),d=i.useRef(null),[f,g]=ae({prop:a,defaultProp:r??!1,onChange:n,caller:C});return e.jsx(Fe,{scope:o,triggerRef:c,contentRef:d,contentId:D(),titleId:D(),descriptionId:D(),open:f,onOpenChange:g,onOpenToggle:i.useCallback(()=>g(h=>!h),[g]),modal:l,children:s})};M.displayName=C;var T="DialogTrigger",F=i.forwardRef((t,o)=>{const{__scopeDialog:s,...a}=t,r=m(T,s),n=R(o,r.triggerRef);return e.jsx(j.button,{type:"button","aria-haspopup":"dialog","aria-expanded":r.open,"aria-controls":r.contentId,"data-state":_(r.open),...a,ref:n,onClick:v(t.onClick,r.onOpenToggle)})});F.displayName=T;var E="DialogPortal",[Le,L]=k(E,{forceMount:void 0}),W=t=>{const{__scopeDialog:o,forceMount:s,children:a,container:r}=t,n=m(E,o);return e.jsx(Le,{scope:o,forceMount:s,children:i.Children.map(a,l=>e.jsx(S,{present:s||n.open,children:e.jsx(ie,{asChild:!0,container:r,children:l})}))})};W.displayName=E;var w="DialogOverlay",$=i.forwardRef((t,o)=>{const s=L(w,t.__scopeDialog),{forceMount:a=s.forceMount,...r}=t,n=m(w,t.__scopeDialog);return n.modal?e.jsx(S,{present:a||n.open,children:e.jsx($e,{...r,ref:o})}):null});$.displayName=w;var We=Ae("DialogOverlay.RemoveScroll"),$e=i.forwardRef((t,o)=>{const{__scopeDialog:s,...a}=t,r=m(w,s);return e.jsx(be,{as:We,allowPinchZoom:!0,shards:[r.contentRef],children:e.jsx(j.div,{"data-state":_(r.open),...a,ref:o,style:{pointerEvents:"auto",...a.style}})})}),x="DialogContent",V=i.forwardRef((t,o)=>{const s=L(x,t.__scopeDialog),{forceMount:a=s.forceMount,...r}=t,n=m(x,t.__scopeDialog);return e.jsx(S,{present:a||n.open,children:n.modal?e.jsx(Ve,{...r,ref:o}):e.jsx(Ge,{...r,ref:o})})});V.displayName=x;var Ve=i.forwardRef((t,o)=>{const s=m(x,t.__scopeDialog),a=i.useRef(null),r=R(o,s.contentRef,a);return i.useEffect(()=>{const n=a.current;if(n)return Ne(n)},[]),e.jsx(G,{...t,ref:r,trapFocus:s.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:v(t.onCloseAutoFocus,n=>{var l;n.preventDefault(),(l=s.triggerRef.current)==null||l.focus()}),onPointerDownOutside:v(t.onPointerDownOutside,n=>{const l=n.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0;(l.button===2||c)&&n.preventDefault()}),onFocusOutside:v(t.onFocusOutside,n=>n.preventDefault())})}),Ge=i.forwardRef((t,o)=>{const s=m(x,t.__scopeDialog),a=i.useRef(!1),r=i.useRef(!1);return e.jsx(G,{...t,ref:o,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:n=>{var l,c;(l=t.onCloseAutoFocus)==null||l.call(t,n),n.defaultPrevented||(a.current||(c=s.triggerRef.current)==null||c.focus(),n.preventDefault()),a.current=!1,r.current=!1},onInteractOutside:n=>{var d,f;(d=t.onInteractOutside)==null||d.call(t,n),n.defaultPrevented||(a.current=!0,n.detail.originalEvent.type==="pointerdown"&&(r.current=!0));const l=n.target;((f=s.triggerRef.current)==null?void 0:f.contains(l))&&n.preventDefault(),n.detail.originalEvent.type==="focusin"&&r.current&&n.preventDefault()}})}),G=i.forwardRef((t,o)=>{const{__scopeDialog:s,trapFocus:a,onOpenAutoFocus:r,onCloseAutoFocus:n,...l}=t,c=m(x,s),d=i.useRef(null),f=R(o,d);return we(),e.jsxs(e.Fragment,{children:[e.jsx(Ce,{asChild:!0,loop:!0,trapped:a,onMountAutoFocus:r,onUnmountAutoFocus:n,children:e.jsx(le,{role:"dialog",id:c.contentId,"aria-describedby":c.descriptionId,"aria-labelledby":c.titleId,"data-state":_(c.open),...l,ref:f,onDismiss:()=>c.onOpenChange(!1)})}),e.jsxs(e.Fragment,{children:[e.jsx(He,{titleId:c.titleId}),e.jsx(ze,{contentRef:d,descriptionId:c.descriptionId})]})]})}),P="DialogTitle",H=i.forwardRef((t,o)=>{const{__scopeDialog:s,...a}=t,r=m(P,s);return e.jsx(j.h2,{id:r.titleId,...a,ref:o})});H.displayName=P;var B="DialogDescription",z=i.forwardRef((t,o)=>{const{__scopeDialog:s,...a}=t,r=m(B,s);return e.jsx(j.p,{id:r.descriptionId,...a,ref:o})});z.displayName=B;var q="DialogClose",Z=i.forwardRef((t,o)=>{const{__scopeDialog:s,...a}=t,r=m(q,s);return e.jsx(j.button,{type:"button",...a,ref:o,onClick:v(t.onClick,()=>r.onOpenChange(!1))})});Z.displayName=q;function _(t){return t?"open":"closed"}var U="DialogTitleWarning",[lt,J]=ce(U,{contentName:x,titleName:P,docsSlug:"dialog"}),He=({titleId:t})=>{const o=J(U),s=`\`${o.contentName}\` requires a \`${o.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${o.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${o.docsSlug}`;return i.useEffect(()=>{t&&(document.getElementById(t)||console.error(s))},[s,t]),null},Be="DialogDescriptionWarning",ze=({contentRef:t,descriptionId:o})=>{const a=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${J(Be).contentName}}.`;return i.useEffect(()=>{var n;const r=(n=t.current)==null?void 0:n.getAttribute("aria-describedby");o&&r&&(document.getElementById(o)||console.warn(a))},[a,t,o]),null},qe=M,Ze=F,Ue=W,K=$,X=V,Y=H,Q=z,Je=Z;const Ke=qe,Xe=Ze,Ye=Ue,ee=i.forwardRef(({className:t,...o},s)=>e.jsx(K,{className:N("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...o,ref:s}));ee.displayName=K.displayName;const Qe=ue("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),te=i.forwardRef(({side:t="right",className:o,children:s,...a},r)=>e.jsxs(Ye,{children:[e.jsx(ee,{}),e.jsxs(X,{ref:r,className:N(Qe({side:t}),o),...a,children:[s,e.jsxs(Je,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-secondary hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[e.jsx(de,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));te.displayName=X.displayName;const oe=({className:t,...o})=>e.jsx("div",{className:N("flex flex-col space-y-2 text-center sm:text-left",t),...o});oe.displayName="SheetHeader";const re=i.forwardRef(({className:t,...o},s)=>e.jsx(Y,{ref:s,className:N("text-lg font-semibold text-foreground",t),...o}));re.displayName=Y.displayName;const et=i.forwardRef(({className:t,...o},s)=>e.jsx(Q,{ref:s,className:N("text-sm text-muted-foreground",t),...o}));et.displayName=Q.displayName;const tt=["All","Apparel","Accessories","Home","Jewelry"],ct=()=>{const[t,o]=i.useState([]),[s,a]=i.useState(!0),[r,n]=i.useState("All"),[l,c]=i.useState("newest"),[d,f]=i.useState("grid");i.useEffect(()=>{(async()=>{try{a(!0);const{data:p,error:A}=await je.from("products").select("*").order("created_at",{ascending:!1});if(A)throw A;p&&o(p)}catch(p){console.error("Error fetching products:",p),me.error("Failed to load products")}finally{a(!1)}})()},[]);const g=t.filter(u=>r==="All"||u.category===r).sort((u,p)=>{switch(l){case"price-low":return u.price-p.price;case"price-high":return p.price-u.price;case"name":return u.name.localeCompare(p.name);case"newest":default:return p.id-u.id}}),h=()=>e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-display text-lg font-semibold mb-4",children:"Categories"}),e.jsx("div",{className:"space-y-2",children:tt.map(u=>e.jsx("button",{onClick:()=>n(u),className:`block w-full text-left px-4 py-3 rounded-xl transition-all duration-200 ${r===u?"bg-primary text-white shadow-lg shadow-primary/20 font-medium":"text-muted-foreground hover:text-foreground hover:bg-white/5"}`,children:u},u))})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-display text-lg font-semibold mb-4",children:"Price Range"}),e.jsx("div",{className:"space-y-2",children:["Under $50","$50 - $100","Over $100"].map(u=>e.jsx("button",{className:"block w-full text-left px-4 py-2 rounded-lg text-muted-foreground hover:text-foreground hover:bg-white/5 transition-all duration-200",children:u},u))})]})]});return e.jsxs(ge,{children:[e.jsxs(fe,{children:[e.jsx("title",{children:"Shop All Products | The Gift"}),e.jsx("meta",{name:"description",content:"Explore our curated collection of artisan gifts, home dÃ©cor, and unique treasures."})]}),e.jsx("section",{className:"pt-10 pb-16 bg-gradient-to-b from-primary/5 to-background",children:e.jsx("div",{className:"container mx-auto px-4 lg:px-8",children:e.jsxs(y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-center",children:[e.jsx("h1",{className:"font-display text-4xl lg:text-6xl font-bold text-foreground mb-4",children:"Our Collection"}),e.jsx("p",{className:"text-muted-foreground text-lg max-w-2xl mx-auto",children:"Discover thoughtfully curated gifts and home essentials, each piece selected for its quality and charm."})]})})}),e.jsx("section",{className:"py-12",children:e.jsx("div",{className:"container mx-auto px-4 lg:px-8",children:e.jsxs("div",{className:"flex flex-col lg:flex-row gap-12",children:[e.jsx(y.aside,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.2},className:"hidden lg:block w-64 flex-shrink-0",children:e.jsx("div",{className:"sticky top-24",children:e.jsx(h,{})})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs(y.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.4},className:"flex flex-col sm:flex-row items-center justify-between mb-8 pb-4 border-b border-white/10 gap-4",children:[e.jsxs("p",{className:"text-muted-foreground",children:["Showing ",g.length," products"]}),e.jsxs("div",{className:"flex items-center gap-4 w-full sm:w-auto",children:[e.jsxs(Ke,{children:[e.jsx(Xe,{asChild:!0,children:e.jsxs(O,{variant:"outline",size:"sm",className:"lg:hidden flex-1",children:[e.jsx(he,{className:"h-4 w-4 mr-2"}),"Filters"]})}),e.jsxs(te,{side:"left",children:[e.jsx(oe,{children:e.jsx(re,{children:"Filters"})}),e.jsx("div",{className:"mt-6",children:e.jsx(h,{})})]})]}),e.jsxs(De,{value:l,onValueChange:c,children:[e.jsx(Re,{className:"w-[180px] bg-card border-white/10",children:e.jsx(Se,{placeholder:"Sort by"})}),e.jsxs(Ee,{children:[e.jsx(b,{value:"newest",children:"Newest Arrivals"}),e.jsx(b,{value:"name",children:"Name (A-Z)"}),e.jsx(b,{value:"price-low",children:"Price: Low to High"}),e.jsx(b,{value:"price-high",children:"Price: High to Low"})]})]}),e.jsxs("div",{className:"hidden md:flex items-center gap-1 border border-white/10 rounded-lg p-1 bg-card",children:[e.jsx("button",{onClick:()=>f("grid"),className:`p-2 rounded transition-colors ${d==="grid"?"bg-primary text-white shadow-sm":"text-muted-foreground hover:text-foreground"}`,children:e.jsx(Pe,{className:"h-4 w-4"})}),e.jsx("button",{onClick:()=>f("list"),className:`p-2 rounded transition-colors ${d==="list"?"bg-primary text-white shadow-sm":"text-muted-foreground hover:text-foreground"}`,children:e.jsx(_e,{className:"h-4 w-4"})})]})]})]}),s?e.jsx("div",{className:"h-64 flex items-center justify-center",children:e.jsx(pe,{className:"w-8 h-8 animate-spin text-primary"})}):e.jsxs(e.Fragment,{children:[e.jsx(xe,{children:e.jsx(y.div,{layout:!0,className:`grid gap-6 ${d==="grid"?"grid-cols-1 sm:grid-cols-2 lg:grid-cols-3":"grid-cols-1"}`,children:e.jsx(ve,{mode:"popLayout",children:g.map((u,p)=>e.jsx(y.div,{layout:!0,initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},transition:{duration:.3,delay:p*.05},children:e.jsx(ye,{product:u})},u.id))})})}),g.length===0&&e.jsxs(y.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center py-16 bg-white/5 rounded-2xl border border-dashed border-white/10",children:[e.jsx("p",{className:"text-muted-foreground text-lg",children:"No products found in this category."}),e.jsx(O,{variant:"link",className:"mt-4 text-primary",onClick:()=>n("All"),children:"Clear Filters"})]})]})]})]})})})]})};export{ct as default};
