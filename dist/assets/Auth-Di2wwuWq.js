import{o as h,r as l,j as e,L as f,a as g,u as n}from"./index-L5qlGLpf.js";import{s as c,A as v,m as b,U as N,M as j,B as w}from"./supabaseClient-DQzvhkAx.js";import{I as m}from"./input-BFLFz7Wl.js";import{A as y}from"./arrow-left-D02GK16Y.js";import{L as k}from"./lock-nzVra7Gp.js";const D=()=>{const o=h(),[s,x]=l.useState("login"),[d,u]=l.useState(!1),[a,i]=l.useState({email:"",password:"",fullName:""});l.useEffect(()=>{c.auth.getSession().then(({data:{session:t}})=>{t&&o("/account")})},[o]);const p=async t=>{t.preventDefault(),u(!0);try{if(s==="login"){const{error:r}=await c.auth.signInWithPassword({email:a.email,password:a.password});if(r)throw r;n.success("Welcome back! ðŸŽ"),o("/")}else{const{error:r}=await c.auth.signUp({email:a.email,password:a.password,options:{data:{full_name:a.fullName}}});if(r)throw r;n.success("Account created! Please check your email.")}}catch(r){n.error(r.message)}finally{u(!1)}};return e.jsxs("div",{className:"min-h-screen flex bg-background text-foreground",children:[e.jsxs("div",{className:"flex-1 flex flex-col justify-center px-8 py-12 lg:px-16 relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[500px] h-[500px] bg-primary/20 blur-[100px] rounded-full pointer-events-none"}),e.jsxs("div",{className:"max-w-md w-full mx-auto relative z-10",children:[e.jsxs(f,{to:"/",className:"inline-flex items-center text-sm text-muted-foreground hover:text-primary mb-8 transition-colors",children:[e.jsx(y,{className:"h-4 w-4 mr-2"}),"Back to store"]}),e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"font-display text-4xl font-bold mb-2",children:s==="login"?"Welcome back":"Create an account"}),e.jsx("p",{className:"text-muted-foreground",children:s==="login"?"Enter your details to access your account":"Join us to track orders and save your favorites"})]}),e.jsx(v,{mode:"wait",children:e.jsxs(b.form,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.2},onSubmit:p,className:"space-y-4",children:[s==="register"&&e.jsx("div",{className:"space-y-2",children:e.jsxs("div",{className:"relative",children:[e.jsx(N,{className:"absolute left-3 top-3 h-5 w-5 text-muted-foreground"}),e.jsx(m,{placeholder:"Full Name",className:"pl-10 bg-white/5 border-white/10 h-12",value:a.fullName,onChange:t=>i({...a,fullName:t.target.value}),required:!0})]})}),e.jsx("div",{className:"space-y-2",children:e.jsxs("div",{className:"relative",children:[e.jsx(j,{className:"absolute left-3 top-3 h-5 w-5 text-muted-foreground"}),e.jsx(m,{type:"email",placeholder:"Email address",className:"pl-10 bg-white/5 border-white/10 h-12",value:a.email,onChange:t=>i({...a,email:t.target.value}),required:!0})]})}),e.jsx("div",{className:"space-y-2",children:e.jsxs("div",{className:"relative",children:[e.jsx(k,{className:"absolute left-3 top-3 h-5 w-5 text-muted-foreground"}),e.jsx(m,{type:"password",placeholder:"Password",className:"pl-10 bg-white/5 border-white/10 h-12",value:a.password,onChange:t=>i({...a,password:t.target.value}),required:!0})]})}),e.jsx(w,{type:"submit",className:"w-full btn-primary h-12 text-base font-medium",disabled:d,children:d?e.jsx(g,{className:"animate-spin"}):s==="login"?"Sign In":"Sign Up"})]},s)}),e.jsxs("p",{className:"mt-8 text-center text-sm text-muted-foreground",children:[s==="login"?"Don't have an account? ":"Already have an account? ",e.jsx("button",{type:"button",onClick:()=>x(s==="login"?"register":"login"),className:"text-primary hover:underline font-medium transition-colors",children:s==="login"?"Sign up":"Sign in"})]})]})]}),e.jsxs("div",{className:"hidden lg:block lg:w-1/2 relative",children:[e.jsx("div",{className:"absolute inset-0 bg-primary/20 mix-blend-overlay z-10"}),e.jsx("img",{src:"https://images.unsplash.com/photo-1441986300917-64674bd600d8?w=1200&h=1600&fit=crop",alt:"Fashion store",className:"w-full h-full object-cover"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-background via-transparent to-transparent z-20"})]})]})};export{D as default};
